

1. Create a key-pair 

Open up PuttyGen:

      (a) In the Parameters section, select SSH-2 RSA and set 'number of bits
in a generated key' to 2048
      (b) Actions, click Generate (a public/private key pair)
      (c) move the mouse over the panel to introduce some randomness into the
key generation
      (d) eventually, the key is created - see ssh-rsa in the 'key' section,
with lots of random alpha chars 
      (e) provide a pass-phrase for your key 
             Key > Key passphrase
      (e) save the private/public key parts separately:
          Public:
             actions > Save the Generated key > click 'Save public key'
             provide path/file for the public key part
          Private:
             actions > Save the Generated key > click 'Save private key'
             provide path/file for the private key part
             NOTE: Save as type : "PuTTY Private Key Files (*.ppk)"
      (f) Email the public key file to Mo/Shane


Connecting to remote VM
-------------------------
Open up Putty:

      (a) define host/port of VM

            set host name : rd-util-004.admiral.test
            set port      : 22

      (b) define account to log on with 
      
            within the Putty Category side pane, 
               Open up Connection > Data
               Set Auto-login username to be your user name (e.g. coxon2, root)

      (c) define private key
    
            Staying within the 'Connection' section, open up SSH > Auth

            Find the 'Private key file for authentication' entry, 
            Browse to the place you've saved your private key (see above) 
            Select your private key and 
            Click Open to select it.

      (d) save all this under a single log-in session

            Click back to Session in the putty category side pane.

            Under 'Saved sessions', provide a suitable name for this type of login, e.g. rachel-vm, 
            then click Save

            note down the name of this session, we'll need that soon !!



Copy data file to VM
-------------------------

(PSFTP)

   (a) Start up psftp
   (b) As no host name provided, will see the psftp prompt, i.e. "psftp>"
   (c) Enter the following command
          psftp> open aid-vm

          where 'aid-vm' is the name of the putty saved session we created in "Connecting to remote VM" (d) above

          if successful, you should see the following response:

             "Using username "<your user>"
             Authorized uses only. All activity may be monitored and reported.
             Passphrase for key "rsa-key-xxxx"

   (d) At this point, check the user account is correct (displayed in the "Using username ..." response)
   (e) If correct user, provide the passphrase of the key (see "Create a keypair (e)" above)
         If successful, you should see the following response :
            "Remote working directory is ...."

   (f) List files on VM : 
         psftp> ls

         you'll be shown the files in the remote VM directory

   (g) Set the local directory to be the source directory of your data file,
         psftp> lcd y:\Downloads
         New local directory is y:\Downloads

   (h) Upload your data file to the remote VM
         psftp> put mydata.csv
         local:mydata.csv => remote:/<user-dir>/mydata.csv

   (i) Confirm that the file has been copied to the remote VM
         psftp> ls

         You should now see your data file in the directory listing

   (j) Close your psftp session
         psftp> bye







